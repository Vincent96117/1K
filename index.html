<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>V178 HUNTER | åƒ¹æ ¼çµ•å°ä¿®æ­£ç‰ˆ</title>
    <style>
        body { background: #050505; color: #e0e0e0; font-family: sans-serif; padding: 20px; text-align: center; }
        .header { display: flex; justify-content: center; gap: 40px; background: #111; padding: 20px; border-radius: 12px; border: 1px solid #333; margin-bottom: 20px; }
        .market-card { min-width: 200px; }
        .price { font-size: 30px; font-weight: bold; color: #f2a900; margin: 5px 0; }
        .up { color: #00ff88; font-weight: bold; } .down { color: #ff3344; font-weight: bold; }
        #startBtn { background: #f2a900; color: #000; border: none; padding: 15px 40px; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; margin: 20px 0; }
        #startBtn:disabled { background: #444; color: #888; }
        table { width: 100%; border-collapse: collapse; background: #111; margin-top: 10px; text-align: left; }
        th { background: #1a1a1a; color: #f2a900; padding: 15px; border-bottom: 2px solid #333; }
        td { padding: 15px; border-bottom: 1px solid #222; }
    </style>
</head>
<body>

    <div class="header">
        <div class="market-card">
            <div style="color:#888">BTC / USDT</div>
            <div id="btc-p" class="price">--</div>
            <div id="btc-c">--</div>
        </div>
        <div class="market-card">
            <div style="color:#888">ETH / USDT</div>
            <div id="eth-p" class="price">--</div>
            <div id="eth-c">--</div>
        </div>
    </div>

    <button id="startBtn" onclick="startMon()">ğŸš€ é–‹å§‹ V178 å¯¦æ™‚ç›£æ§</button>
    <div id="status" style="color:#888; margin-bottom:15px;">ç›®å‰ç‹€æ…‹ï¼šç­‰å¾…æŒ‡ä»¤</div>

    <table>
        <thead>
            <tr><th>è§¸ç™¼æ™‚é–“</th><th>å¹£ç¨®</th><th>1m æ¼²å¹…</th><th>V178 è©•åˆ†</th><th>å³æ™‚åƒ¹æ ¼</th></tr>
        </thead>
        <tbody id="watchlist"></tbody>
    </table>

<script>
    const watchlist = new Set();
    let isOn = false;
    let btcChg = 0;

    // æ ¸å¿ƒä¿®æ­£ï¼šå¼·åˆ¶åˆ†é–‹è«‹æ±‚ï¼Œä¸æº–å†å°éŒ¯ä½
    async function updatePrice() {
        try {
            // æŠ“ BTC
            const rB = await fetch('https://fapi.binance.com/fapi/v1/ticker/24hr?symbol=BTCUSDT');
            const dB = await rB.json();
            document.getElementById('btc-p').innerText = parseFloat(dB.lastPrice).toLocaleString();
            document.getElementById('btc-c').innerText = `${dB.priceChangePercent}%`;
            document.getElementById('btc-c').className = parseFloat(dB.priceChangePercent) >= 0 ? 'up' : 'down';
            btcChg = parseFloat(dB.priceChangePercent);

            // æŠ“ ETH
            const rE = await fetch('https://fapi.binance.com/fapi/v1/ticker/24hr?symbol=ETHUSDT');
            const dE = await rE.json();
            document.getElementById('eth-p').innerText = parseFloat(dE.lastPrice).toLocaleString();
            document.getElementById('eth-c').innerText = `${dE.priceChangePercent}%`;
            document.getElementById('eth-c').className = parseFloat(dE.priceChangePercent) >= 0 ? 'up' : 'down';
        } catch(e) { console.error("Price Error"); }
    }

    async function scan() {
        if(!isOn) return;
        document.getElementById('status').innerText = `æƒæä¸­... ${new Date().toLocaleTimeString()}`;
        try {
            const r = await fetch('https://fapi.binance.com/fapi/v1/ticker/24hr');
            const all = await r.json();
            const top = all.filter(c => !['BTCUSDT','ETHUSDT','SOLUSDT','XRPUSDT','BNBUSDT','BNXUSDT'].includes(c.symbol))
                           .sort((a,b) => b.quoteVolume - a.quoteVolume).slice(0, 80);

            for(let c of top) {
                if(watchlist.has(c.symbol)) {
                    document.getElementById(`p-${c.symbol}`).innerText = c.lastPrice;
                    continue;
                }
                const kR = await fetch(`https://fapi.binance.com/fapi/v1/klines?symbol=${c.symbol}&interval=1m&limit=2`);
                const k = await kR.json();
                const g = ((k[1][4]-k[0][1])/k[0][1]*100);
                if(g >= 1.5) {
                    watchlist.add(c.symbol);
                    const s = Math.floor((parseFloat(c.priceChangePercent)-btcChg)*10+20);
                    const row = `<tr><td>${new Date().toLocaleTimeString()}</td><td><b>${c.symbol}</b></td><td class="up">+${g.toFixed(2)}%</td><td style="color:#f2a900; font-weight:bold">${s}</td><td id="p-${c.symbol}">${c.lastPrice}</td></tr>`;
                    document.getElementById('watchlist').insertAdjacentHTML('afterbegin', row);
                }
            }
        } catch(e) {}
    }

    function startMon() { isOn = true; document.getElementById('startBtn').disabled = true; setInterval(scan, 4000); scan(); }
    setInterval(updatePrice, 2000);
    updatePrice();
</script>
</body>
</html>
